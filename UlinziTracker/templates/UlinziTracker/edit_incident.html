{% extends "UlinziTracker/index.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% block content %}

<head>
  <meta charset="utf-8">
  <title>Edit Incident - UlinziTracker</title>
  <link href="{% static 'UlinziTracker/extra/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'UlinziTracker/css/simple-sidebar.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<style>
  .edit-incident-container {
    max-width: 800px;
    margin: 50px auto;
  }
  .card {
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
  }
  .card-header {
    background: linear-gradient(135deg, #007bff, #00c6ff);
    color: #fff;
    font-weight: bold;
    font-size: 1.3rem;
    border-radius: 12px 12px 0 0;
  }
  .btn-save {
    background-color: #28a745;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
  }
  .btn-save:hover {
    background-color: #218838;
  }
  .btn-cancel {
    background-color: #6c757d;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
  }
  .btn-cancel:hover {
    background-color: #5a6268;
  }
</style>

<div class="edit-incident-container">
  <div class="card">
    <div class="card-header">
      <i class="fas fa-edit"></i> Edit Incident
    </div>
    <div class="card-body">
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endfor %}
      {% endif %}

      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form|crispy }}
        <div class="mt-3 d-flex justify-content-between">
          <button type="submit" class="btn btn-save">
            <i class="fas fa-save"></i> Save Changes
          </button>
          <a href="{% url 'UlinziTracker:incident_list' %}" class="btn btn-cancel">
            <i class="fas fa-times"></i> Cancel
          </a>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}
